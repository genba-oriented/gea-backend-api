== 特徴

=== トランザクションスクリプトパターンを採用したオーソドックスな業務ロジック
昨今の業務ロジックの実装の方法論として、ドメインモデルパターンに属するドメイン駆動設計が人気です。しかし、学習コストが高くなったり、初学者にとって難解なソースコードになるリスクがあります。

本リポジトリは、業務ロジックの一連の処理を手続き的に記載する、いわゆるトランザクションスクリプトパターンを採用しています。これにより、ソースコードが取っつきやすく分かりやすくなります。 トランザクションスクリプトパターンのデメリットである、1メソッドの処理が長くなったり冗長な記述が多くなりがちなことについては、サービス層のプログラムを積極的に分割することで対応するスタンスです。

=== Domaを使用した軽量なデータアクセス
昨今のデータアクセスの実装の手段として、Spring Data JPAが人気です。Spring Data JPAを使用すると、開発者のコードが劇的に少なくなります。しかし、内部の処理がブラックボックスになったり、JPA自体の学習コストが高くなるリスクもあります。

本リポジトリでは、日本産のライブラリである https://github.com/domaframework/doma[Doma^]を使用しています。Domaは、2Way-SQL footnote:[プログラムが読み込むテンプレートとしても使えるし、開発者がpsqlのようなツールで実行することもできるSQL] が有名ですが、本リポジトリは2Way-SQLの機能は使用せずCriteria APIと呼ばれる機能を使っています。Criteria APIは、JPAのCriteria APIと似ており、Entityクラスからメタモデルを生成してタイプセーフにSQLを記述できます。また、セレクトしたレコードをEntityオブジェクトに変換してくれます。ただ、JPAのようにEntityのライフサイクルの管理や、キャッシュの制御は行いません。JPAから難易度が高い機能を削ぎ落とした軽量なORマッパーのイメージです。

